$(function(){$("#main-menu").smartmenus({markCurrentItem:!0,subMenusSubOffsetX:1,subMenusSubOffsetY:-8}).find("> li:first > a").removeClass("current"),$("#main-menu").smartmenus("keyboardSetHotkey","123","shiftKey"),/\/blog\//.test(window.location.href)&&$('#main-menu > li > a[href*="/blog/"]').addClass("current");var t=$("#main-menu-state");t.length&&(t.change(function(t){var e=$("#main-menu");this.checked?e.hide().slideDown(250,function(){e.css("display","")}):e.show().slideUp(250,function(){e.css("display","")})}),$(window).bind("beforeunload unload",function(){t[0].checked&&t[0].click()})),$("#docs-menu").smartmenus({hideOnClick:!1}).find("a").smoothScroll(),function(){var t=$("textarea.bbp-the-content"),e=$('<div id="format-buttons">\t\t\t\t<div id="format-buttons-inner">\t\t\t\t\t<span class="add-smilies" onclick="$(this).siblings(\'.smilies\').slideToggle(250);return false;"><img src="/wp-content/plugins/tango-smilies/tango/face-smile.png"><span class="arrow"></span></span>\t\t\t\t\t<span data-startstr="<strong>" data-endstr="</strong>" style="font-weight:bold;">B</span>\t\t\t\t\t<span data-startstr="<em>" data-endstr="</em>" style="font-style:italic;">I</span>\t\t\t\t\t<span data-startstr="" data-endstr=" http://">http://</span>\t\t\t\t\t<span data-startstr="<img src=\'" data-endstr="\' /&gt;">Img</span>\t\t\t\t\t<span data-startstr="<pre>" data-endstr="</pre>">Code</span>\t\t\t\t\t<span data-startstr="<blockquote>" data-endstr="</blockquote>">Quote</span>\t\t\t\t\t<span id="protected-data-button" title="Insert sensitive data that only you and forum admins can see." data-startstr="[protected]" data-endstr="[/protected]">Protected data</span>\t\t\t\t\t<div class="smilies">\t\t\t\t\t\t<span data-startstr=":)" title=":)" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=";)" title=";)" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":D" title=":D" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":lol:" title=":lol:" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":(" title=":(" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":cry:" title=":cry:" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr="8)" title="8)" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":o" title=":o" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":P" title=":P" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":?" title=":?" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":\\" title=":\\" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":|" title=":|" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":oops:" title=":oops:" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":x" title=":x" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":evil:" title=":evil:" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":!:" title=":!:" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":?:" title=":?:" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":idea:" title=":idea:" data-endstr=""><span></span></span>\t\t\t\t\t\t<span data-startstr=":love:" title=":love:" data-endstr=""><span></span></span>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>');e.find("span").click(function(){!function(t,e,s){if(document.selection&&document.selection.createRange)t.focus(),sel=document.selection.createRange(),sel.text=e+sel.text+s,t.focus();else if(t.selectionStart||"0"==t.selectionStart){var i=t.selectionStart,a=t.selectionEnd;t.value=t.value.substring(0,i)+e+t.value.substring(i,a)+s+t.value.substring(a,t.value.length),t.selectionStart=t.selectionEnd=a+e.length+s.length,t.focus()}else t.value+=e+s,t.focus()}(t[0],$(this).attr("data-startstr").replace(/'/g,'"'),$(this).attr("data-endstr").replace(/'/g,'"'))}),t.before(e)}()}),function(t){function e(t){return t.replace(/(:|\.)/g,"\\$1")}var s=function(e){var s=[],i=e.dir&&"left"==e.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var e=t(this);e[i]()>0?s.push(this):(e[i](1),e[i]()>0&&s.push(this),e[i](0))}}),s.length||this.each(function(){"BODY"===this.nodeName&&(s=[this])}),"first"===e.el&&s.length>1&&(s=[s[0]]),s};t.fn.extend({scrollable:function(t){var e=s.call(this,{dir:t});return this.pushStack(e)},firstScrollable:function(t){var e=s.call(this,{el:"first",dir:t});return this.pushStack(e)},smoothScroll:function(s){s=s||{};var i=t.extend({},t.fn.smoothScroll.defaults,s),a=t.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(s){var o=this,n=t(this),r=i.exclude,l=i.excludeWithin,h=0,u=0,c=!0,d={},m=location.hostname===o.hostname||!o.hostname,p=i.scrollTarget||(t.smoothScroll.filterPath(o.pathname)||a)===a,g=e(o.hash);if(i.scrollTarget||m&&p&&g){for(;c&&r.length>h;)n.is(e(r[h++]))&&(c=!1);for(;c&&l.length>u;)n.closest(l[u++]).length&&(c=!1)}else c=!1;c&&(s.preventDefault(),t.extend(d,i,{scrollTarget:i.scrollTarget||g,link:o}),t.smoothScroll(d))}),this}}),t.smoothScroll=function(e,s){var i,a,o,n,r=0,l="offset",h="scrollTop",u={},c={};"number"==typeof e?(i=t.fn.smoothScroll.defaults,o=e):(i=t.extend({},t.fn.smoothScroll.defaults,e||{})).scrollElement&&(l="position","static"==i.scrollElement.css("position")&&i.scrollElement.css("position","relative")),h="left"==(i=t.extend({link:null},i)).direction?"scrollLeft":h,i.scrollElement?r=(a=i.scrollElement)[h]():a=t("html, body").firstScrollable(),i.beforeScroll.call(a,i),o="number"==typeof e?e:s||t(i.scrollTarget)[l]()&&t(i.scrollTarget)[l]()[i.direction]||0,u[h]=o+r+i.offset,"auto"===(n=i.speed)&&(n=u[h]||a.scrollTop(),n/=i.autoCoefficent),c={duration:n,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(c.step=i.step),a.length?a.stop().animate(u,c):i.afterScroll.call(i.link,i)},t.smoothScroll.version="1.4.10",t.smoothScroll.filterPath=function(t){return t.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},t.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2}}(jQuery),this.sh_languages||(this.sh_languages={});var sh_requests={};function sh_isEmailAddress(t){return!/^mailto:/.test(t)&&-1!==t.indexOf("@")}function sh_setHref(t,e,s){var i=s.substring(t[e-2].pos,t[e-1].pos);i.length>=2&&"<"===i.charAt(0)&&">"===i.charAt(i.length-1)&&(i=i.substr(1,i.length-2)),sh_isEmailAddress(i)&&(i="mailto:"+i),t[e-2].node.href=i}function sh_konquerorExec(t){var e=[""];return e.index=t.length,e.input=t,e}function sh_highlightString(t,e){if(/Konqueror/.test(navigator.userAgent)&&!e.konquered){for(var s=0;s<e.length;s++)for(var i=0;i<e[s].length;i++){var a=e[s][i][0];"$"===a.source&&(a.exec=sh_konquerorExec)}e.konquered=!0}var o=document.createElement("a"),n=document.createElement("span"),r=[],l=0,h=[],u=0,c=null,d=function(e,s){var i=e.length;if(0!==i){if(!s){var a=h.length;if(0!==a){var d=h[a-1];d[3]||(s=d[1])}}var m;if(c!==s)if(c&&(r[l++]={pos:u},"sh_url"===c&&sh_setHref(r,l,t)),s)(m="sh_url"===s?o.cloneNode(!1):n.cloneNode(!1)).className=s,r[l++]={node:m,pos:u};u+=i,c=s}},m=/\r\n|\r|\n/g;m.lastIndex=0;for(var p=t.length;u<p;){var g,f,v=u,b=m.exec(t);null===b?(g=p,f=p):(g=b.index,f=m.lastIndex);for(var _=t.substring(v,g),S=[];;){var w,M=u-v,y=h.length,A=e[w=0===y?0:h[y-1][2]],T=A.length,x=S[w];x||(x=S[w]=[]);for(var I=null,z=-1,k=0;k<T;k++){var C;if(k<x.length&&(null===x[k]||M<=x[k].index))C=x[k];else{var $=A[k][0];$.lastIndex=M,C=$.exec(_),x[k]=C}if(null!==C&&(null===I||C.index<I.index)&&(I=C,z=k,C.index===M))break}if(null===I){d(_.substring(M),null);break}I.index>M&&d(_.substring(M,I.index),null);var Z=A[z],E=Z[1];if(E instanceof Array)for(var O=0;O<E.length;O++)d(I[O+1],E[O]);else d(I[0],E);switch(Z[2]){case-1:break;case-2:h.pop();break;case-3:h.length=0;break;default:h.push(Z)}}c&&(r[l++]={pos:u},"sh_url"===c&&sh_setHref(r,l,t),c=null),u=f}return r}function sh_getClasses(t){var e=[],s=t.className;if(s&&s.length>0)for(var i=s.split(" "),a=0;a<i.length;a++)i[a].length>0&&e.push(i[a]);return e}function sh_addClass(t,e){for(var s=sh_getClasses(t),i=0;i<s.length;i++)if(e.toLowerCase()===s[i].toLowerCase())return;s.push(e),t.className=s.join(" ")}function sh_extractTagsFromNodeList(t,e){for(var s=t.length,i=0;i<s;i++){var a=t.item(i);switch(a.nodeType){case 1:var o;if("br"===a.nodeName.toLowerCase())o=/MSIE/.test(navigator.userAgent)?"\r":"\n",e.text.push(o),e.pos++;else e.tags.push({node:a.cloneNode(!1),pos:e.pos}),sh_extractTagsFromNodeList(a.childNodes,e),e.tags.push({pos:e.pos});break;case 3:case 4:e.text.push(a.data),e.pos+=a.length}}}function sh_extractTags(t,e){var s={text:[]};return s.tags=e,s.pos=0,sh_extractTagsFromNodeList(t.childNodes,s),s.text.join("")}function sh_mergeTags(t,e){var s=t.length;if(0===s)return e;var i=e.length;if(0===i)return t;for(var a=[],o=0,n=0;o<s&&n<i;){var r=t[o],l=e[n];r.pos<=l.pos?(a.push(r),o++):(a.push(l),e[n+1].pos<=r.pos?(n++,a.push(e[n]),n++):(a.push({pos:r.pos}),e[n]={node:l.node.cloneNode(!1),pos:r.pos}))}for(;o<s;)a.push(t[o]),o++;for(;n<i;)a.push(e[n]),n++;return a}function sh_insertTags(t,e){for(var s=document,i=document.createDocumentFragment(),a=0,o=t.length,n=0,r=e.length,l=i;n<r||a<o;){var h,u;if((u=a<o?(h=t[a]).pos:r)<=n){if(h.node){var c=h.node;l.appendChild(c),l=c}else l=l.parentNode;a++}else l.appendChild(s.createTextNode(e.substring(n,u))),n=u}return i}function sh_highlightElement(t,e){sh_addClass(t,"sh_sourceCode");for(var s=[],i=sh_extractTags(t,s),a=sh_insertTags(sh_mergeTags(s,sh_highlightString(i,e)),i);t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(a)}function sh_getXMLHttpRequest(){if(window.ActiveXObject)return new ActiveXObject("Msxml2.XMLHTTP");if(window.XMLHttpRequest)return new XMLHttpRequest;throw"No XMLHttpRequest implementation available"}function sh_load(language,element,prefix,suffix){if(language in sh_requests)sh_requests[language].push(element);else{sh_requests[language]=[element];var request=sh_getXMLHttpRequest(),url=prefix+"sh_"+language+suffix;request.open("GET",url,!0),request.onreadystatechange=function(){if(4===request.readyState)try{if(request.status&&200!==request.status)throw"HTTP error: status "+request.status;eval(request.responseText);for(var elements=sh_requests[language],i=0;i<elements.length;i++)sh_highlightElement(elements[i],sh_languages[language])}finally{request=null}},request.send(null)}}function sh_highlightDocument(t,e){for(var s=document.getElementsByTagName("pre"),i=0;i<s.length;i++)for(var a=s.item(i),o=sh_getClasses(a),n=0;n<o.length;n++){var r=o[n].toLowerCase();if("sh_sourcecode"!==r&&"sh_"===r.substr(0,3)){var l=r.substring(3);if(l in sh_languages)sh_highlightElement(a,sh_languages[l]);else{if("string"!=typeof t||"string"!=typeof e)throw'Found <pre> element with class="'+r+'", but no such language exists';sh_load(l,a,t,e)}break}}}this.sh_languages||(this.sh_languages={}),sh_languages.javascript=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/\b(?:applicationCache|closed|Components|content|controllers|crypto|defaultStatus|dialogArguments|directories|document|frameElement|frames|fullScreen|globalStorage|history|innerHeight|innerWidth|length|location|locationbar|menubar|name|navigator|opener|outerHeight|outerWidth|pageXOffset|pageYOffset|parent|personalbar|pkcs11|returnValue|screen|availTop|availLeft|availHeight|availWidth|colorDepth|height|left|pixelDepth|top|width|screenX|screenY|scrollbars|scrollMaxX|scrollMaxY|scrollX|scrollY|self|sessionStorage|sidebar|status|statusbar|toolbar|top|window)\b/g,"sh_predef_var",-1],[/\b(?:alert|addEventListener|atob|back|blur|btoa|captureEvents|clearInterval|clearTimeout|close|confirm|dump|escape|find|focus|forward|getAttention|getComputedStyle|getSelection|home|moveBy|moveTo|open|openDialog|postMessage|print|prompt|releaseEvents|removeEventListener|resizeBy|resizeTo|scroll|scrollBy|scrollByLines|scrollByPages|scrollTo|setInterval|setTimeout|showModalDialog|sizeToContent|stop|unescape|updateCommands|onabort|onbeforeunload|onblur|onchange|onclick|onclose|oncontextmenu|ondragdrop|onerror|onfocus|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onpaint|onreset|onresize|onscroll|onselect|onsubmit|onunload)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.css=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(?:\.|#)[A-Za-z0-9_]+/g,"sh_selector",-1],[/\{/g,"sh_cbracket",10,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\}/g,"sh_cbracket",-2],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/[A-Za-z0-9_-]+[ \t]*:/g,"sh_property",-1],[/[.%A-Za-z0-9_-]+/g,"sh_value",-1],[/#(?:[A-Za-z0-9_]+)/g,"sh_string",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.php=[[[/\b(?:include|include_once|require|require_once)\b/g,"sh_preproc",-1],[/\/\//g,"sh_comment",1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",2],[/'/g,"sh_string",3],[/\b(?:and|or|xor|__FILE__|exception|php_user_filter|__LINE__|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|each|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|for|foreach|function|global|if|isset|list|new|old_function|print|return|static|switch|unset|use|var|while|__FUNCTION__|__CLASS__|__METHOD__)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",4],[/\/\//g,"sh_comment",1],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(?:\$[#]?|@|%)[A-Za-z0-9_]+/g,"sh_variable",-1],[/<\?php|~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",7]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]],this.sh_languages||(this.sh_languages={}),sh_languages.html=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",5,1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]],function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e){var o=".smartmenus_mouse";if(l||e)l&&e&&(t(document).unbind(o),l=!1);else{var h=!0,u=null;t(document).bind(i([["mousemove",function(e){var s={x:e.pageX,y:e.pageY,timeStamp:(new Date).getTime()};if(u){var i=Math.abs(u.x-s.x),o=Math.abs(u.y-s.y);if((i>0||o>0)&&2>=i&&2>=o&&300>=s.timeStamp-u.timeStamp&&(n=!0,h)){var r=t(e.target).closest("a");r.is("a")&&t.each(a,function(){return t.contains(this.$root[0],r[0])?(this.itemEnter({currentTarget:r[0]}),!1):void 0}),h=!1}}u=s}],[r?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(t){s(t.originalEvent)&&(n=!1)}]],o)),l=!0}}function s(t){return!/^(4|mouse)$/.test(t.pointerType)}function i(e,s){s||(s="");var i={};return t.each(e,function(t,e){i[e[0].split(" ").join(s+" ")+s]=e[1]}),i}var a=[],o=!!window.createPopup,n=!1,r="ontouchstart"in window,l=!1,h=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},u=window.cancelAnimationFrame||function(t){clearTimeout(t)};return t.SmartMenus=function(e,s){this.$root=t(e),this.opts=s,this.rootId="",this.accessIdPrefix="",this.$subArrow=null,this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.idInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.$touchScrollingSub=null,this.cssTransforms3d="perspective"in e.style||"webkitPerspective"in e.style,this.wasCollapsible=!1,this.init()},t.extend(t.SmartMenus,{hideAll:function(){t.each(a,function(){this.menuHideAll()})},destroy:function(){for(;a.length;)a[0].destroy();e(!0)},prototype:{init:function(s){var o=this;if(!s){a.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0);var n=".smartmenus";this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(i([["mouseover focusin",t.proxy(this.rootOver,this)],["mouseout focusout",t.proxy(this.rootOut,this)],["keydown",t.proxy(this.rootKeyDown,this)]],n)).delegate("a",i([["mouseenter",t.proxy(this.itemEnter,this)],["mouseleave",t.proxy(this.itemLeave,this)],["mousedown",t.proxy(this.itemDown,this)],["focus",t.proxy(this.itemFocus,this)],["blur",t.proxy(this.itemBlur,this)],["click",t.proxy(this.itemClick,this)]],n)),n+=this.rootId,this.opts.hideOnClick&&t(document).bind(i([["touchstart",t.proxy(this.docTouchStart,this)],["touchmove",t.proxy(this.docTouchMove,this)],["touchend",t.proxy(this.docTouchEnd,this)],["click",t.proxy(this.docClick,this)]],n)),t(window).bind(i([["resize orientationchange",t.proxy(this.winResize,this)]],n)),this.opts.subIndicators&&(this.$subArrow=t("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),e()}if(this.$firstSub=this.$root.find("ul").each(function(){o.menuInit(t(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem){var r=/(index|default)\.[^#\?\/]*/i,l=window.location.href.replace(r,""),h=l.replace(/#.*/,"");this.$root.find("a").each(function(){var e=this.href.replace(r,""),s=t(this);(e==l||e==h)&&(s.addClass("current"),o.opts.markCurrentTree&&s.parentsUntil("[data-smartmenus-id]","ul").each(function(){t(this).dataSM("parent-a").addClass("current")}))})}this.wasCollapsible=this.isCollapsible()},destroy:function(e){if(!e){var s=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(s).undelegate(s),s+=this.rootId,t(document).unbind(s),t(window).unbind(s),this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var i=this;this.$root.find("ul").each(function(){var e=t(this);e.dataSM("scroll-arrows")&&e.dataSM("scroll-arrows").remove(),e.dataSM("shown-before")&&((i.opts.subMenusMinWidth||i.opts.subMenusMaxWidth)&&e.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),e.dataSM("scroll-arrows")&&e.dataSM("scroll-arrows").remove(),e.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),0==(e.attr("id")||"").indexOf(i.accessIdPrefix)&&e.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded"),this.$root.find("a.has-submenu").each(function(){var e=t(this);0==e.attr("id").indexOf(i.accessIdPrefix)&&e.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),e||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),a.splice(t.inArray(this,a),1))},disable:function(e){if(!this.disabled){if(this.menuHideAll(),!e&&!this.opts.isPopup&&this.$root.is(":visible")){var s=this.$root.offset();this.$disableOverlay=t('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:s.top,left:s.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(e){return this.$touchScrollingSub?void(this.$touchScrollingSub=null):void((this.visibleSubMenus.length&&!t.contains(this.$root[0],e.target)||t(e.target).is("a"))&&this.menuHideAll())},docTouchEnd:function(){if(this.lastTouch){if(!(!this.visibleSubMenus.length||void 0!==this.lastTouch.x2&&this.lastTouch.x1!=this.lastTouch.x2||void 0!==this.lastTouch.y2&&this.lastTouch.y1!=this.lastTouch.y2||this.lastTouch.target&&t.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},350)}this.lastTouch=null}},docTouchMove:function(t){if(this.lastTouch){var e=t.originalEvent.touches[0];this.lastTouch.x2=e.pageX,this.lastTouch.y2=e.pageY}},docTouchStart:function(t){var e=t.originalEvent.touches[0];this.lastTouch={x1:e.pageX,y1:e.pageY,target:e.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(e){for(var s=t(e).closest("ul");s.dataSM("in-mega");)s=s.parent().closest("ul");return s[0]||null},getHeight:function(t){return this.getOffset(t,!0)},getOffset:function(t,e){var s;"none"==t.css("display")&&(s={position:t[0].style.position,visibility:t[0].style.visibility},t.css({position:"absolute",visibility:"hidden"}).show());var i=t[0].getBoundingClientRect&&t[0].getBoundingClientRect(),a=i&&(e?i.height||i.bottom-i.top:i.width||i.right-i.left);return a||0===a||(a=e?t[0].offsetHeight:t[0].offsetWidth),s&&t.hide().css(s),a},getStartZIndex:function(t){var e=parseInt(this[t?"$root":"$firstSub"].css("z-index"));return!t&&isNaN(e)&&(e=parseInt(this.$root.css("z-index"))),isNaN(e)?1:e},getTouchPoint:function(t){return t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t},getViewport:function(t){var e=t?"Height":"Width",s=document.documentElement["client"+e],i=window["inner"+e];return i&&(s=Math.min(s,i)),s},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(t){return this.getOffset(t)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(t){return this.handleEvents()&&!this.isLinkInMegaMenu(t)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){var e="fixed"==this.$root.css("position");return e||this.$root.parentsUntil("body").each(function(){return"fixed"==t(this).css("position")?(e=!0,!1):void 0}),e},isLinkInMegaMenu:function(e){return t(this.getClosestMenu(e[0])).hasClass("mega-menu")},isTouchMode:function(){return!n||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(e,s){var i=e.closest("ul"),a=i.dataSM("level");if(a>1&&(!this.activatedItems[a-2]||this.activatedItems[a-2][0]!=i.dataSM("parent-a")[0])){var o=this;t(i.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(i).each(function(){o.itemActivate(t(this).dataSM("parent-a"))})}if((!this.isCollapsible()||s)&&this.menuHideSubMenus(this.activatedItems[a-1]&&this.activatedItems[a-1][0]==e[0]?a:a-1),this.activatedItems[a-1]=e,!1!==this.$root.triggerHandler("activate.smapi",e[0])){var n=e.dataSM("sub");n&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(n)}},itemBlur:function(e){var s=t(e.currentTarget);this.handleItemEvents(s)&&this.$root.triggerHandler("blur.smapi",s[0])},itemClick:function(e){var s=t(e.currentTarget);if(this.handleItemEvents(s)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==s.closest("ul")[0])return this.$touchScrollingSub=null,e.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",s[0]))return!1;var i=t(e.target).is("span.sub-arrow"),a=s.dataSM("sub"),o=!!a&&2==a.dataSM("level");if(a&&!a.is(":visible")){if(this.opts.showOnClick&&o&&(this.clickActivated=!0),this.itemActivate(s),a.is(":visible"))return this.focusActivated=!0,!1}else if(this.isCollapsible()&&i)return this.itemActivate(s),this.menuHide(a),!1;return!(this.opts.showOnClick&&o||s.hasClass("disabled")||!1===this.$root.triggerHandler("select.smapi",s[0]))&&void 0}},itemDown:function(e){var s=t(e.currentTarget);this.handleItemEvents(s)&&s.dataSM("mousedown",!0)},itemEnter:function(e){var s=t(e.currentTarget);if(this.handleItemEvents(s)){if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var i=this;this.showTimeout=setTimeout(function(){i.itemActivate(s)},this.opts.showOnClick&&1==s.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",s[0])}},itemFocus:function(e){var s=t(e.currentTarget);this.handleItemEvents(s)&&(!this.focusActivated||this.isTouchMode()&&s.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==s[0]||this.itemActivate(s,!0),this.$root.triggerHandler("focus.smapi",s[0]))},itemLeave:function(e){var s=t(e.currentTarget);this.handleItemEvents(s)&&(this.isTouchMode()||(s[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),s.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",s[0]))},menuHide:function(e){if(!1!==this.$root.triggerHandler("beforehide.smapi",e[0])&&(e.stop(!0,!0),"none"!=e.css("display"))){var s=function(){e.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,e,s):e.hide(this.opts.collapsibleHideDuration,s):this.opts.hideFunction?this.opts.hideFunction.call(this,e,s):e.hide(this.opts.hideDuration,s),e.dataSM("ie-shim")&&e.dataSM("ie-shim").remove().css({"-webkit-transform":"",transform:""}),e.dataSM("scroll")&&(this.menuScrollStop(e),e.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),e.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),e.attr({"aria-expanded":"false","aria-hidden":"true"});var i=e.dataSM("level");this.activatedItems.splice(i-1,1),this.visibleSubMenus.splice(t.inArray(e,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",e[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var t=this.opts.isPopup?1:0,e=this.visibleSubMenus.length-1;e>=t;e--)this.menuHide(this.visibleSubMenus[e]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(t){for(var e=this.activatedItems.length-1;e>=t;e--){var s=this.activatedItems[e].dataSM("sub");s&&this.menuHide(s)}},menuIframeShim:function(e){o&&this.opts.overlapControlsInIE&&!e.dataSM("ie-shim")&&e.dataSM("ie-shim",t("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(t){if(!t.dataSM("in-mega")){t.hasClass("mega-menu")&&t.find("ul").dataSM("in-mega",!0);for(var e=2,s=t[0];(s=s.parentNode.parentNode)!=this.$root[0];)e++;var i=t.prevAll("a").eq(-1);i.length||(i=t.prevAll().find("a").eq(-1)),i.addClass("has-submenu").dataSM("sub",t),t.dataSM("parent-a",i).dataSM("level",e).parent().dataSM("sub",t);var a=i.attr("id")||this.accessIdPrefix+ ++this.idInc,o=t.attr("id")||this.accessIdPrefix+ ++this.idInc;i.attr({id:a,"aria-haspopup":"true","aria-controls":o,"aria-expanded":"false"}),t.attr({id:o,role:"group","aria-hidden":"true","aria-labelledby":a,"aria-expanded":"false"}),this.opts.subIndicators&&i[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(e){var s,a,o=e.dataSM("parent-a"),n=o.closest("li"),l=n.parent(),h=e.dataSM("level"),u=this.getWidth(e),c=this.getHeight(e),d=o.offset(),m=d.left,p=d.top,g=this.getWidth(o),f=this.getHeight(o),v=t(window),b=v.scrollLeft(),_=v.scrollTop(),S=this.getViewportWidth(),w=this.getViewportHeight(),M=l.parent().is("[data-sm-horizontal-sub]")||2==h&&!l.hasClass("sm-vertical"),y=this.opts.rightToLeftSubMenus&&!n.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&n.is("[data-sm-reverse]"),A=2==h?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,T=2==h?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;if(M?(s=y?g-u-A:A,a=this.opts.bottomToTopSubMenus?-c-T:f+T):(s=y?A-u:g-A,a=this.opts.bottomToTopSubMenus?f-T-c:T),this.opts.keepInViewport){var x=m+s,I=p+a;if(y&&b>x?s=M?b-x+s:g-A:!y&&x+u>b+S&&(s=M?b+S-u-x+s:A-u),M||(w>c&&I+c>_+w?a+=_+w-c-I:(c>=w||_>I)&&(a+=_-I)),M&&(I+c>_+w+.49||_>I)||!M&&c>w+.49){var z=this;e.dataSM("scroll-arrows")||e.dataSM("scroll-arrows",t([t('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],t('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){e.dataSM("scroll").up=t(this).hasClass("scroll-up"),z.menuScroll(e)},mouseleave:function(t){z.menuScrollStop(e),z.menuScrollOut(e,t)},"mousewheel DOMMouseScroll":function(t){t.preventDefault()}}).insertAfter(e));var k=".smartmenus_scroll";e.dataSM("scroll",{y:this.cssTransforms3d?0:a-f,step:1,itemH:f,subH:c,arrowDownH:this.getHeight(e.dataSM("scroll-arrows").eq(1))}).bind(i([["mouseover",function(t){z.menuScrollOver(e,t)}],["mouseout",function(t){z.menuScrollOut(e,t)}],["mousewheel DOMMouseScroll",function(t){z.menuScrollMousewheel(e,t)}]],k)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:s+(parseInt(e.css("border-left-width"))||0),width:u-(parseInt(e.css("border-left-width"))||0)-(parseInt(e.css("border-right-width"))||0),zIndex:e.css("z-index")}).eq(M&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()&&e.css({"touch-action":"none","-ms-touch-action":"none"}).bind(i([[r?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(t){z.menuScrollTouch(e,t)}]],k))}}e.css({top:"auto",left:"0",marginLeft:s,marginTop:a-f}),this.menuIframeShim(e),e.dataSM("ie-shim")&&e.dataSM("ie-shim").css({zIndex:e.css("z-index"),width:u,height:c,marginLeft:s,marginTop:a-f})},menuScroll:function(t,e,s){var i,a=t.dataSM("scroll"),o=t.dataSM("scroll-arrows"),r=a.up?a.upEnd:a.downEnd;if(!e&&a.momentum){if(a.momentum*=.92,.5>(i=a.momentum))return void this.menuScrollStop(t)}else i=s||(e||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(a.step));var l=t.dataSM("level");if(this.activatedItems[l-1]&&this.activatedItems[l-1].dataSM("sub")&&this.activatedItems[l-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(l-1),a.y=a.up&&a.y>=r||!a.up&&r>=a.y?a.y:Math.abs(r-a.y)>i?a.y+(a.up?i:-i):r,t.add(t.dataSM("ie-shim")).css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+a.y+"px, 0)",transform:"translate3d(0, "+a.y+"px, 0)"}:{marginTop:a.y}),n&&(a.up&&a.y>a.downEnd||!a.up&&a.y<a.upEnd)&&o.eq(a.up?1:0).show(),a.y==r)n&&o.eq(a.up?0:1).hide(),this.menuScrollStop(t);else if(!e){this.opts.scrollAccelerate&&a.step<this.opts.scrollStep&&(a.step+=.2);var u=this;this.scrollTimeout=h(function(){u.menuScroll(t)})}},menuScrollMousewheel:function(t,e){if(this.getClosestMenu(e.target)==t[0]){var s=((e=e.originalEvent).wheelDelta||-e.detail)>0;t.dataSM("scroll-arrows").eq(s?0:1).is(":visible")&&(t.dataSM("scroll").up=s,this.menuScroll(t,!0))}e.preventDefault()},menuScrollOut:function(e,s){n&&(/^scroll-(up|down)/.test((s.relatedTarget||"").className)||(e[0]==s.relatedTarget||t.contains(e[0],s.relatedTarget))&&this.getClosestMenu(s.relatedTarget)==e[0]||e.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(e,s){if(n&&!/^scroll-(up|down)/.test(s.target.className)&&this.getClosestMenu(s.target)==e[0]){this.menuScrollRefreshData(e);var i=e.dataSM("scroll"),a=t(window).scrollTop()-e.dataSM("parent-a").offset().top-i.itemH;e.dataSM("scroll-arrows").eq(0).css("margin-top",a).end().eq(1).css("margin-top",a+this.getViewportHeight()-i.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(e){var s=e.dataSM("scroll"),i=t(window).scrollTop()-e.dataSM("parent-a").offset().top-s.itemH;this.cssTransforms3d&&(i=-(parseFloat(e.css("margin-top"))-i)),t.extend(s,{upEnd:i,downEnd:i+this.getViewportHeight()-s.subH})},menuScrollStop:function(t){return this.scrollTimeout?(u(this.scrollTimeout),this.scrollTimeout=0,t.dataSM("scroll").step=1,!0):void 0},menuScrollTouch:function(e,i){if(s(i=i.originalEvent)){var a=this.getTouchPoint(i);if(this.getClosestMenu(a.target)==e[0]){var o=e.dataSM("scroll");if(/(start|down)$/i.test(i.type))this.menuScrollStop(e)?(i.preventDefault(),this.$touchScrollingSub=e):this.$touchScrollingSub=null,this.menuScrollRefreshData(e),t.extend(o,{touchStartY:a.pageY,touchStartTime:i.timeStamp});else if(/move$/i.test(i.type)){var n=void 0!==o.touchY?o.touchY:o.touchStartY;if(void 0!==n&&n!=a.pageY){this.$touchScrollingSub=e;var r=a.pageY>n;void 0!==o.up&&o.up!=r&&t.extend(o,{touchStartY:a.pageY,touchStartTime:i.timeStamp}),t.extend(o,{up:r,touchY:a.pageY}),this.menuScroll(e,!0,Math.abs(a.pageY-n))}i.preventDefault()}else void 0!==o.touchY&&((o.momentum=15*Math.pow(Math.abs(a.pageY-o.touchStartY)/(i.timeStamp-o.touchStartTime),2))&&(this.menuScrollStop(e),this.menuScroll(e),i.preventDefault()),delete o.touchY)}}},menuShow:function(t){if((t.dataSM("beforefirstshowfired")||(t.dataSM("beforefirstshowfired",!0),!1!==this.$root.triggerHandler("beforefirstshow.smapi",t[0])))&&!1!==this.$root.triggerHandler("beforeshow.smapi",t[0])&&(t.dataSM("shown-before",!0).stop(!0,!0),!t.is(":visible"))){var e=t.dataSM("parent-a");if((this.opts.keepHighlighted||this.isCollapsible())&&e.addClass("highlighted"),this.isCollapsible())t.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{if(t.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(t.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&t.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)){var s=this.getWidth(t);t.css("max-width",this.opts.subMenusMaxWidth),s>this.getWidth(t)&&t.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(t),t.dataSM("ie-shim")&&t.dataSM("ie-shim").insertBefore(t)}var i=function(){t.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,t,i):t.show(this.opts.collapsibleShowDuration,i):this.opts.showFunction?this.opts.showFunction.call(this,t,i):t.show(this.opts.showDuration,i),e.attr("aria-expanded","true"),t.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(t),this.$root.triggerHandler("show.smapi",t[0])}},popupHide:function(t){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},t?1:this.opts.hideTimeout)},popupShow:function(t,e){if(this.opts.isPopup){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0).stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:t,top:e}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:t,top:e}).insertBefore(this.$root);var s=this,i=function(){s.$root.css("overflow","")};this.opts.showFunction?this.opts.showFunction.call(this,this.$root,i):this.$root.show(this.opts.showDuration,i),this.visibleSubMenus[0]=this.$root}}else alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.destroy(!0),this.init(!0)},rootKeyDown:function(e){if(this.handleEvents())switch(e.keyCode){case 27:var s=this.activatedItems[0];if(s)this.menuHideAll(),s[0].focus(),(i=s.dataSM("sub"))&&this.menuHide(i);break;case 32:var i,a=t(e.target);if(a.is("a")&&this.handleItemEvents(a))(i=a.dataSM("sub"))&&!i.is(":visible")&&(this.itemClick({currentTarget:e.target}),e.preventDefault())}},rootOut:function(t){if(this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(t){this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(t){if(this.handleEvents()){if(!("onorientationchange"in window)||"orientationchange"==t.type){var e=this.isCollapsible();this.wasCollapsible&&e||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=e}}else if(this.$disableOverlay){var s=this.$root.offset();this.$disableOverlay.css({top:s.top,left:s.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}}}}),t.fn.dataSM=function(t,e){return e?this.data(t+"_smartmenus",e):this.data(t+"_smartmenus")},t.fn.removeDataSM=function(t){return this.removeData(t+"_smartmenus")},t.fn.smartmenus=function(e){if("string"==typeof e){var s=arguments,i=e;return Array.prototype.shift.call(s),this.each(function(){var e=t(this).data("smartmenus");e&&e[i]&&e[i].apply(e,s)})}var a=t.extend({},t.fn.smartmenus.defaults,e);return this.each(function(){new t.SmartMenus(this,a)})},t.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"18em",subMenusMaxWidth:"25em",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(t,e){t.fadeOut(200,e)},collapsibleShowDuration:0,collapsibleShowFunction:function(t,e){t.slideDown(200,e)},collapsibleHideDuration:0,collapsibleHideFunction:function(t,e){t.slideUp(200,e)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0},t}),function(t){"function"==typeof define&&define.amd?define(["jquery","jquery.smartmenus"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(t){return t.find("> li > a:not(.disabled), > li > :not(ul) a:not(.disabled)").eq(0)}function s(t){return t.find("> li > a:not(.disabled), > li > :not(ul) a:not(.disabled)").eq(-1)}function i(t,s){var i=t.nextAll("li").find("> a:not(.disabled), > :not(ul) a:not(.disabled)").eq(0);return s||i.length?i:e(t.parent())}function a(e,i){var a=e.prevAll("li").find("> a:not(.disabled), > :not(ul) a:not(.disabled)").eq(/^1\.8\./.test(t.fn.jquery)?0:-1);return i||a.length?a:s(e.parent())}return t.fn.focusSM=function(){return this.length&&this[0].focus&&this[0].focus(),this},t.extend(t.SmartMenus.Keyboard={},{docKeydown:function(o){var n=o.keyCode;if(/^(37|38|39|40)$/.test(n)){var r=t(this),l=r.data("smartmenus"),h=t(o.target);if(l&&h.is("a")&&l.handleItemEvents(h)){var u=h.closest("li"),c=u.parent(),d=c.dataSM("level");switch(r.hasClass("sm-rtl")&&(37==n?n=39:39==n&&(n=37)),n){case 37:if(l.isCollapsible())break;d>2||2==d&&r.hasClass("sm-vertical")?l.activatedItems[d-2].focusSM():r.hasClass("sm-vertical")||a((l.activatedItems[0]||h).closest("li")).focusSM();break;case 38:var m;if(l.isCollapsible())d>1&&(m=e(c)).length&&h[0]==m[0]?l.activatedItems[d-2].focusSM():a(u).focusSM();else 1==d&&!r.hasClass("sm-vertical")&&l.opts.bottomToTopSubMenus?(!l.activatedItems[0]&&h.dataSM("sub")&&(l.opts.showOnClick&&(l.clickActivated=!0),l.itemActivate(h),h.dataSM("sub").is(":visible")&&(l.focusActivated=!0)),l.activatedItems[0]&&l.activatedItems[0].dataSM("sub")&&l.activatedItems[0].dataSM("sub").is(":visible")&&!l.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&s(l.activatedItems[0].dataSM("sub")).focusSM()):(d>1||r.hasClass("sm-vertical"))&&a(u).focusSM();break;case 39:if(l.isCollapsible())break;1==d&&r.hasClass("sm-vertical")?(!l.activatedItems[0]&&h.dataSM("sub")&&(l.opts.showOnClick&&(l.clickActivated=!0),l.itemActivate(h),h.dataSM("sub").is(":visible")&&(l.focusActivated=!0)),l.activatedItems[0]&&l.activatedItems[0].dataSM("sub")&&l.activatedItems[0].dataSM("sub").is(":visible")&&!l.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&e(l.activatedItems[0].dataSM("sub")).focusSM()):1!=d&&(!l.activatedItems[d-1]||l.activatedItems[d-1].dataSM("sub")&&l.activatedItems[d-1].dataSM("sub").is(":visible")&&!l.activatedItems[d-1].dataSM("sub").hasClass("mega-menu"))||r.hasClass("sm-vertical")?l.activatedItems[d-1]&&l.activatedItems[d-1].dataSM("sub")&&l.activatedItems[d-1].dataSM("sub").is(":visible")&&!l.activatedItems[d-1].dataSM("sub").hasClass("mega-menu")&&e(l.activatedItems[d-1].dataSM("sub")).focusSM():i((l.activatedItems[0]||h).closest("li")).focusSM();break;case 40:var p,g;if(l.isCollapsible())if(l.activatedItems[d-1]&&l.activatedItems[d-1].dataSM("sub")&&l.activatedItems[d-1].dataSM("sub").is(":visible")&&!l.activatedItems[d-1].dataSM("sub").hasClass("mega-menu")&&(p=e(l.activatedItems[d-1].dataSM("sub"))).length)p.focusSM();else if(d>1&&(g=s(c)).length&&h[0]==g[0]){for(var f=l.activatedItems[d-2].closest("li"),v=null;f.is("li")&&!(v=i(f,!0)).length;)f=f.parent().parent();v.length?v.focusSM():e(r).focusSM()}else i(u).focusSM();else 1!=d||r.hasClass("sm-vertical")||l.opts.bottomToTopSubMenus?(d>1||r.hasClass("sm-vertical"))&&i(u).focusSM():(!l.activatedItems[0]&&h.dataSM("sub")&&(l.opts.showOnClick&&(l.clickActivated=!0),l.itemActivate(h),h.dataSM("sub").is(":visible")&&(l.focusActivated=!0)),l.activatedItems[0]&&l.activatedItems[0].dataSM("sub")&&l.activatedItems[0].dataSM("sub").is(":visible")&&!l.activatedItems[0].dataSM("sub").hasClass("mega-menu")&&e(l.activatedItems[0].dataSM("sub")).focusSM())}o.stopPropagation(),o.preventDefault()}}}}),t(document).delegate("ul.sm, ul.navbar-nav:not([data-sm-skip])","keydown.smartmenus",t.SmartMenus.Keyboard.docKeydown),t.extend(t.SmartMenus.prototype,{keyboardSetHotkey:function(s,i){var a=this;t(document).bind("keydown.smartmenus"+this.rootId,function(o){if(s==o.keyCode){var n=!0;i&&("string"==typeof i&&(i=[i]),t.each(["ctrlKey","shiftKey","altKey","metaKey"],function(e,s){return t.inArray(s,i)>=0&&!o[s]||0>t.inArray(s,i)&&o[s]?(n=!1,!1):void 0})),n&&(e(a.$root).focusSM(),o.stopPropagation(),o.preventDefault())}})}}),t});